cmake_minimum_required(VERSION 2.8.5)
project(dtgame)

find_package(OpenGL REQUIRED)
add_library(dtgame-network STATIC
    Network/Message.h
    Network/Message.cpp
    Network/Controller.h
    Network/Controller.cpp
    Network/IdentifiableObject.h
    Network/IdentifiableObject.cpp
)
add_executable(dtgame
    Main.cpp
    Engine.h
    Engine.cpp
    RenderingEngine.h
    RenderingEngine.cpp
    CachedUniverse.h
    CachedUniverse.cpp
    CachedActor.h
    CachedActor.cpp
    CachedPlayer.h
    CachedPlayer.cpp
    CachedShip.h
    CachedShip.cpp
    CachedSpatial.h
    CachedSpatial.cpp
)
add_executable(dtgame-server
    Server/Main.cpp
    Server/Universe.h
    Server/Universe.cpp
    Server/Actor.h
    Server/Actor.cpp
    Server/Player.h
    Server/Player.cpp
    Server/Ship.h
    Server/Ship.cpp
    Server/Spatial.h
    Server/Spatial.cpp
)
include_directories(
    ${GLFW_SOURCE_DIR}/include
    ${png_SOURCE_DIR}
    ${z_SOURCE_DIR}
)
target_link_libraries(dtgame-network
)
target_link_libraries(dtgame
    dtgame-network
    png
    z
    glfw
    ${GLFW_LIBRARIES}
    ${OPENGL_LIBRARIES}
)
target_link_libraries(dtgame-server
    dtgame-network
)
cotire(dtgame-network)
cotire(dtgame)
cotire(dtgame-server)
